<view class="data-v-720e0f7e"><cu-custom vue-id="1" bgColor="bg-black" isBack="{{false}}" mainPage="{{true}}" class="data-v-720e0f7e" bind:__l="__l" vue-slots="{{['backText','content']}}"><view style="font-size:40rpx;" slot="backText" class="data-v-720e0f7e"><text data-event-opts="{{[['tap',[['showLocation',['$event']]]]]}}" class=" text-main data-v-720e0f7e" style="font-size:50rpx;margin-right:12rpx;" bindtap="__e"></text><text data-event-opts="{{[['tap',[['showLocation',['$event']]]]]}}" bindtap="__e" class="data-v-720e0f7e">{{MerchantToken.title}}</text></view><view slot="content" class="data-v-720e0f7e"></view></cu-custom><view class="main data-v-720e0f7e"><view class="bg-white header data-v-720e0f7e"><swiper class="{{['card-swiper data-v-720e0f7e',dotStyle?'square-dot':'square-dot']}}" indicator-dots="{{true}}" circular="{{true}}" autoplay="{{true}}" interval="5000" duration="500" indicator-color="#f9f9f9" indicator-active-color="#f5df2c" data-event-opts="{{[['change',[['cardSwiper',['$event']]]]]}}" bindchange="__e"><block wx:for="{{swiperList}}" wx:for-item="item" wx:for-index="index" wx:key="index"><swiper-item class="{{['data-v-720e0f7e',cardCur==index?'cur':'']}}"><view class="swiper-item data-v-720e0f7e"><image src="{{item.img_url}}" mode="aspectFill" class="data-v-720e0f7e"></image></view></swiper-item></block></swiper><block wx:if="{{recStaff.length!=0}}"><view class="text-center margin-left-sm margin-top data-v-720e0f7e"><text class="cuIcon-medalfill text-main margin-right-sm text-lg data-v-720e0f7e"></text>推荐技师</view></block><block wx:if="{{recStaff.length!=0}}"><view class="rank flex align-end justify-center margin-top-sm data-v-720e0f7e"><view class="rank-1 margin-right-lg data-v-720e0f7e" data-key="0" data-event-opts="{{[['tap',[['book',['$0'],['recStaff.__$n1.id']]]]]}}" bindtap="__e"><image style="width:100%;height:100%;z-index:9;" src="../../static/2222.png" mode class="data-v-720e0f7e"></image><image class="inner-girl data-v-720e0f7e" src="{{recStaff[1].head_img}}" mode></image></view><view class="rank-2 data-v-720e0f7e" data-key="0" data-event-opts="{{[['tap',[['book',['$0'],['recStaff.__$n0.id']]]]]}}" bindtap="__e"><image style="width:100%;height:100%;z-index:9;" src="../../static/11111.png" mode class="data-v-720e0f7e"></image><image class="inner-girl data-v-720e0f7e" src="{{recStaff[0].head_img}}" mode></image></view><view class="rank-3 margin-left-lg data-v-720e0f7e" data-key="0" data-event-opts="{{[['tap',[['book',['$0'],['recStaff.__$n2.id']]]]]}}" bindtap="__e"><image style="width:100%;height:100%;z-index:9;" src="../../static/33333.png" mode class="data-v-720e0f7e"></image><image class="inner-girl data-v-720e0f7e" src="{{recStaff[2].head_img}}" mode></image></view></view></block><block wx:if="{{recStaff.length!=0}}"><view class="flex align-center justify-between text-sm margin-top-xs data-v-720e0f7e" style="width:460rpx;margin-left:147rpx;"><text class="data-v-720e0f7e">{{recStaff[1].name}}</text><text class="data-v-720e0f7e">{{recStaff[0].name}}</text><text class="data-v-720e0f7e">{{recStaff[2].name}}</text></view></block></view><view class="{{['cu-modal data-v-720e0f7e',modalName=='order'?'show':'']}}"><view class="cu-dialog data-v-720e0f7e"><view class="cu-bar  justify-end data-v-720e0f7e"><view data-event-opts="{{[['tap',[['hideModal',['$event']]]]]}}" class="action data-v-720e0f7e" bindtap="__e"><view class="content text-green data-v-720e0f7e">技师排序</view><text class="cuIcon-close text-red data-v-720e0f7e"></text></view></view><view class="padding-xl data-v-720e0f7e"><button class="{{['data-v-720e0f7e',orderMethod=='total_gift'?'cu-btn round bg-main2':'cu-btn round line-gray']}}" data-name="total_gift" data-event-opts="{{[['tap',[['changeSort',['$event']]]]]}}" catchtap="__e">打赏数</button><button class="{{['data-v-720e0f7e',orderMethod=='service_times'?'cu-btn round bg-main2':'cu-btn round line-gray']}}" style="margin-left:20rpx;" data-name="service_times" data-event-opts="{{[['tap',[['changeSort',['$event']]]]]}}" catchtap="__e">上钟数量</button></view></view></view><view class="{{['cu-modal data-v-720e0f7e',modalName=='filter'?'show':'']}}"><view class="cu-dialog data-v-720e0f7e"><view class="cu-bar  justify-end data-v-720e0f7e"><view data-event-opts="{{[['tap',[['hideModal',['$event']]]]]}}" class="action data-v-720e0f7e" bindtap="__e"><view class="content text-green data-v-720e0f7e">技师筛选</view><text class="cuIcon-close text-red data-v-720e0f7e"></text></view></view><view class="padding-xl data-v-720e0f7e"><button class="{{['data-v-720e0f7e',filterMethod==0?'cu-btn round bg-main2':'cu-btn round line-gray']}}" data-name="distance" data-event-opts="{{[['tap',[['changeSort',['$event']]]]]}}" catchtap="__e">全部</button><button class="{{['data-v-720e0f7e',filterMethod==1?'cu-btn round bg-main2':'cu-btn round line-gray']}}" style="margin-left:20rpx;" data-name="distance" data-event-opts="{{[['tap',[['changeSort',['$event']]]]]}}" catchtap="__e">空闲中</button><button class="{{['data-v-720e0f7e',filterMethod==2?'cu-btn round bg-main2':'cu-btn round line-gray']}}" style="margin-left:20rpx;" data-name="price" data-event-opts="{{[['tap',[['changeSort',['$event']]]]]}}" catchtap="__e">忙碌中</button></view></view></view><view class="{{['cu-modal data-v-720e0f7e',modalName=='book'?'show':'']}}"><view class="cu-dialog data-v-720e0f7e"><view class="cu-bar  justify-end data-v-720e0f7e"><view data-event-opts="{{[['tap',[['hideModal',['$event']]]]]}}" class="action data-v-720e0f7e" bindtap="__e"><view class="content text-green data-v-720e0f7e">预约技师</view><text class="cuIcon-close text-red data-v-720e0f7e"></text></view></view><view class="padding-xl data-v-720e0f7e"><button class=" cu-btn round bg-main2 data-v-720e0f7e" data-status="0" data-event-opts="{{[['tap',[['book',['$event']]]]]}}" catchtap="__e">未到店</button><button class=" cu-btn round bg-main2 data-v-720e0f7e" style="margin-left:20rpx;" data-status="1" data-event-opts="{{[['tap',[['book',['$event']]]]]}}" catchtap="__e">已到店</button></view></view></view><view class="flex justify-between margin-top-sm align-center  data-v-720e0f7e"><view class="flex margin-left-sm data-v-720e0f7e"><button data-event-opts="{{[['tap',[['changeStatus',['all']]]]]}}" class="{{['data-v-720e0f7e',staffStatus=='all'?'cu-btn sm bg-main2 round margin-right-sm':'cu-btn sm line-gray round margin-right-sm']}}" style="width:150rpx;" bindtap="__e">全部</button><button data-event-opts="{{[['tap',[['changeStatus',[true]]]]]}}" class="{{['data-v-720e0f7e',staffStatus==true?'cu-btn sm bg-main2 round margin-right-sm':'cu-btn sm line-gray round margin-right-sm']}}" style="width:150rpx;" bindtap="__e">空闲</button><button data-event-opts="{{[['tap',[['changeStatus',[false]]]]]}}" class="{{['data-v-720e0f7e',staffStatus==false?'cu-btn sm bg-main2 round margin-right-sm':'cu-btn sm line-gray round margin-right-sm']}}" style="width:150rpx;" bindtap="__e">忙碌</button></view><view class="flex margin-right-sm data-v-720e0f7e"><text class="cuIcon-search  data-v-720e0f7e" style="font-size:50rpx;" data-name="filter" data-event-opts="{{[['tap',[['goSearch',['$event']]]]]}}" bindtap="__e"></text><text class="cuIcon-order  margin-left data-v-720e0f7e" style="font-size:50rpx;" data-name="order" data-event-opts="{{[['tap',[['changeModal',['$event']]]]]}}" bindtap="__e"></text></view></view><view class="flex justify-end margin-top-sm margin-right-sm data-v-720e0f7e"><button data-event-opts="{{[['tap',[['NewStaff',['$event']]]]]}}" class="cu-btn bg-main3 round data-v-720e0f7e" bindtap="__e"><text class="cuIcon-add margin-right-xs data-v-720e0f7e"></text>新增技师</button></view><block wx:if="{{staffList==null||staffList.length==0}}"><view class="margin-top text-center data-v-720e0f7e" style="width:100%;">暂无技师</view></block><block wx:if="{{staffList!=null&&staffList.length!=0}}"><view class="flex align-center flex-direction data-v-720e0f7e"><block wx:for="{{$root.l0}}" wx:for-item="iitem" wx:for-index="iindex" wx:key="iindex"><block wx:if="{{staffStatus==true?iitem.$orig.is_free==true:staffStatus==false?iitem.$orig.is_free==false:staffStatus=='all'?iitem.$orig.is_free==false||iitem.$orig.is_free==true:''}}"><view class="items margin-top-xs flex justify-between align-center data-v-720e0f7e" data-name="book"><view class="flex data-v-720e0f7e"><view class="flex flex-direction align-center data-v-720e0f7e" style="position:relative;"><view style="position:relative;" class="data-v-720e0f7e"><image class="cu-avatar radius data-v-720e0f7e" style="width:120rpx;height:120rpx;" src="{{iitem.$orig.head_img}}"></image><text class="margin-top-xs bg-main3 text-center text-xs data-v-720e0f7e" style="background-color:rgba(0, 0, 0, 0.5);bottom:0;left:0;width:120rpx;position:absolute;z-index:999;">{{iitem.$orig.label}}</text></view><text class="text-sm data-v-720e0f7e">{{iitem.$orig.name}}</text></view><view class="flex flex-direction margin-left-sm data-v-720e0f7e"><view class="flex justify-between align-center data-v-720e0f7e" style="width:550rpx;"><block wx:if="{{iitem.$orig.is_free==true}}"><view class="flex align-center data-v-720e0f7e"><text class="cuIcon-title text-green2  data-v-720e0f7e"></text>空闲</view></block><block wx:if="{{iitem.$orig.is_free==false}}"><view class="flex align-center data-v-720e0f7e"><text class="cuIcon-title text-red  data-v-720e0f7e"></text>忙碌</view></block><block wx:if="{{iitem.$orig.is_free==false}}"><view class="text-gray margin-left-sm data-v-720e0f7e">{{'下钟时间：'+(iitem.$orig.endTime==undefined?'未定':iitem.g0[0])+''}}</view></block></view><view class="flex margin-top-xs justify-between data-v-720e0f7e"><view class="flex align-center data-v-720e0f7e"><block wx:for="{{iitem.$orig.tag}}" wx:for-item="titem" wx:for-index="tindex" wx:key="tindex"><text class="cu-tag  bg-main2 round sm data-v-720e0f7e">{{titem}}</text></block></view><view class="text-gray data-v-720e0f7e">{{'上钟'+iitem.$orig.service_times+" | 礼物"+iitem.$orig.total_gift+''}}</view></view><view class=" margin-top-sm flex justify-end data-v-720e0f7e"><button data-event-opts="{{[['tap',[['book2',[iindex]]]]]}}" class="cu-btn sm line-gray margin-right-xs round data-v-720e0f7e" bindtap="__e">技师详情</button><block wx:if="{{iitem.$orig.is_free==true}}"><button data-event-opts="{{[['tap',[['StaffUp',[iindex]]]]]}}" class="cu-btn sm line-gray round margin-right-xs data-v-720e0f7e" bindtap="__e">技师上钟</button></block><block wx:if="{{iitem.$orig.is_free==false}}"><button data-event-opts="{{[['tap',[['StaffDown',[iindex]]]]]}}" class="cu-btn sm line-gray round margin-right-xs data-v-720e0f7e" bindtap="__e">技师下钟</button></block></view></view></view></view></block></block></view></block></view></view>